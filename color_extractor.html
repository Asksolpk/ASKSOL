<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Color Extractor</title>
</head>

<body>
    <img id="logo" src="logo.png" style="display:none;" crossorigin="anonymous">
    <div id="result">Calculating...</div>
    <script>
        window.onload = function () {
            const img = document.getElementById('logo');
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');

            canvas.width = img.width;
            canvas.height = img.height;
            ctx.drawImage(img, 0, 0, img.width, img.height);

            const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
            const data = imageData.data;
            let r = 0, g = 0, b = 0, count = 0;

            for (let i = 0; i < data.length; i += 4) {
                if (data[i + 3] > 0) { // Ignore transparent pixels
                    r += data[i];
                    g += data[i + 1];
                    b += data[i + 2];
                    count++;
                }
            }

            if (count > 0) {
                r = Math.round(r / count);
                g = Math.round(g / count);
                b = Math.round(b / count);

                const hex = "#" + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);
                document.getElementById('result').innerText = "DOMINANT_COLOR:" + hex.toUpperCase();
                document.body.style.backgroundColor = hex;
            } else {
                document.getElementById('result').innerText = "No opaque pixels found";
            }
        };
    </script>
</body>

</html>